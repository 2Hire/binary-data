const { Transform } = require('stream')
const BufferList = require('internal/buffer-list')

module.exports = class AbstractStream extends Transform {
  constructor(options = {}) {
    super(options)

    this.buffer = new BufferList()
    this._schema = options.schema
  }

  get length() {
    return this.buffer.length
  }

  append(buf) {
    this.buffer.append(buf)
  }

  get(i) {
    return this.buffer.get(i)
  }

  slice(start, end) {
    return this.buffer.slice(start, end)
  }

  consume(bytes) {
    this.buffer.consume(bytes)
  }

  toString(enc, start, end) {
    return this.buffer.toString(enc, start, end)
  }
}
